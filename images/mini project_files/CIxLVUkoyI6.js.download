;/*FB_PKG_DELIM*/

__d("WAWebChannelDiscoveryVisibilityTrackingWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumChannelDirectoryPillSelected","WAWebWamEnumChannelEventUnit","WAWebWamEnumTsSurface"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({ChannelDiscoveryVisibilityTracking:[5766,{channelCategoryIndex:[1,a.TYPES.INTEGER],channelCategoryName:[2,a.TYPES.STRING],channelDirectorySessionId:[3,a.TYPES.INTEGER],channelEventUnit:[4,d("WAWebWamEnumChannelEventUnit").CHANNEL_EVENT_UNIT],channelIndex:[5,a.TYPES.INTEGER],cid:[6,a.TYPES.STRING],countrySelector:[7,a.TYPES.STRING],discoverySurface:[8,d("WAWebWamEnumTsSurface").TS_SURFACE],elementVisibilityAbsolute:[9,a.TYPES.STRING],elementVisibilityPercentage:[10,a.TYPES.STRING],pillSelected:[11,d("WAWebWamEnumChannelDirectoryPillSelected").CHANNEL_DIRECTORY_PILL_SELECTED],screenVisibilityPercentage:[12,a.TYPES.STRING],similarChannelsSessionId:[13,a.TYPES.INTEGER],unifiedSessionId:[14,a.TYPES.STRING]},[1,1,1],"regular"]},{ChannelDiscoveryVisibilityTracking:[]});g.ChannelDiscoveryVisibilityTrackingWamEvent=b}),98);
__d("WAMerlinImpressionManager",["MerlinImpressionManager","WAWebChannelDiscoveryVisibilityTrackingWamEvent","WAWebNewsletterGatingUtils","WAWebUnifiedSession"],(function(a,b,c,d,e,f,g){"use strict";var h={};function a(a){var b=a.enter_ts,c=a.exit_ts;a=a.discoveryData;var e=a.itemId,f=a.cid,g=a.newsletterDirectorySessionId,i=a.similarNewslettersSessionId,j=a.newsletterCategoryIndex,k=a.newsletterIndex,l=a.newsletterEventUnit,m=a.pillSelected,n=a.country,o=a.newsletterCategoryName,p=a.discoverySurface;if(!d("WAWebNewsletterGatingUtils").isVPVLoggingEnabled()||!d("WAWebNewsletterGatingUtils").isNewsletterVPVLoggingEnabled())return;a=function(a){a=JSON.stringify({min_visible_px:a.map(function(a){return{enter_ts:a.enter.toString(),exit_ts:a.exit.toString()}})});a=new(d("WAWebChannelDiscoveryVisibilityTrackingWamEvent").ChannelDiscoveryVisibilityTrackingWamEvent)({elementVisibilityAbsolute:a,cid:f,channelDirectorySessionId:g,similarChannelsSessionId:i,channelCategoryIndex:j,channelIndex:k,channelEventUnit:l,pillSelected:m,countrySelector:n,channelCategoryName:o,discoverySurface:p,unifiedSessionId:(a=d("WAWebUnifiedSession").UnifiedSessionManager.getSessionId())!=null?a:void 0});a.commit()};d("MerlinImpressionManager").logVisibilityTimestamps(b,c,e,h,a)}g.logNewsletterDiscoveryVisibility=a}),98);
__d("WAWebNewsletterChatItem.react",["WAWebDetailImage.react","WAWebFlex.react","WAWebUISpacing","WAWebWDSText.react","react","stylex","useWAWebModelValues"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k=64,l={container:{width:"xni59qk",minHeight:"x1aes4zu",cursor:"x1ypdohk",$$css:!0},text:{width:"xni59qk",minHeight:"xisnujt",textAlign:"x2b8uid",overflowX:"x6ikm8r",overflowY:"x10wlt62",breakWord:"x9hmgtc",textWrap:"x9wz5kn",$$css:!0}};function a(a){a=a.newsletter;var b=d("useWAWebModelValues").useOptionalModelValues(a.newsletterMetadata,["name","inviteCode","verified"]);return b==null?null:j.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",xstyle:l.container,children:[j.jsx(d("WAWebDetailImage.react").DetailImage,{id:a.id,size:k,checkmarkIcon:(b==null?void 0:b.verified)===!0?"chat-list":null,showOutline:!0}),j.jsx("div",{className:(i||(i=c("stylex")))(l.text,d("WAWebUISpacing").uiMargin.top8),children:j.jsx(d("WAWebWDSText.react").WDSTextSmall,{color:"primary",textWrap:"ellipsis",children:b==null?void 0:b.name})})]})}a.displayName=a.name+" [from "+f.id+"]";g.NewsletterChatItem=a}),98);
__d("WAWebNewsletterLoggingContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({similarNewsletterSessionId:null,entryPoint:null});g["default"]=b}),98);
__d("WAWebNewsletterQuickFollowButton.react",["fbt","WAWebFlex.react","WAWebFollowNewsletter","WAWebKeyboardHotKeys.react","WAWebModalManager","WAWebNewsletterUnsubscribeAction","WAWebSpinner.react","WAWebUISpacing","WAWebUnfollowNewsletterConfirmationModal.react","WAWebUnstyledButton.react","WAWebWDSText.react","react","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||c("react"),l=(i||(i=d("react"))).useState,m={followButton:{boxSizing:"x9f619",$$css:!0},withBorder:{backgroundColor:"xlwc9sh",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",borderTopColor:"xiuubft",borderEndColor:"xa2vszz",borderBottomColor:"xx5tys9",borderStartColor:"x5iuykv",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopStartRadius:"xfkn95n",borderTopEndRadius:"xly138o",borderBottomEndRadius:"xchwasx",borderBottomStartRadius:"xfxlei4",":hover_boxShadow":"xv52azi",$$css:!0}};b=k.forwardRef(a);function a(a,b){var e=a.confirmUnfollow,f=a.following,g=a.hasBorder;g=g===void 0?!1:g;var i=a.loggingOptions,j=a.newsletter,n=a.onFollowAction,o=a.onFollowSuccess,p=a.onUnfollowAction;a=l(!1);var q=a[0],r=a[1],s=c("useWAWebUnmountSignal")(),t=function(){s.aborted||r(!1)};a=function(a){a.preventDefault();a.stopPropagation();r(!0);if(!f){n==null?void 0:n();d("WAWebFollowNewsletter").followDirectoryNewsletter(j,babelHelpers["extends"]({},i)).then(function(){return o==null?void 0:o()})["finally"](function(){return t()});return}p==null?void 0:p();if(e){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebUnfollowNewsletterConfirmationModal.react").UnfollowNewsletterConfirmationModal,{chat:j,loggingOptions:i,onClose:function(){return t()}}));return}d("WAWebNewsletterUnsubscribeAction").unsubscribeFromNewsletterAction(j,babelHelpers["extends"]({deleteLocalModels:!1},i))["finally"](t)};var u={enter:a,space:a},v=f?h._("__JHASH__q2OJx1NjUKp__JHASH__"):h._("__JHASH__fwxpTAEyfpc__JHASH__");return k.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:u,children:k.jsx(c("WAWebUnstyledButton.react"),{ref:b,onClick:a,xstyle:[m.followButton,g&&m.withBorder],children:k.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",xstyle:[d("WAWebUISpacing").uiPadding.vert10,d("WAWebUISpacing").uiPadding.horiz16],children:q?k.jsx(d("WAWebSpinner.react").Spinner,{color:"highlight",size:16}):k.jsx(d("WAWebWDSText.react").WDSTextSectionTitle,{color:f?"secondary":"teal",children:v})})})})}a.displayName=a.name+" [from "+f.id+"]";g.NewsletterQuickFollowButton=b}),226);
__d("useNewsletterDiscoveryVisibilityLogger",["WAMerlinImpressionManager","WAWebNoop","react","useVPVDImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.itemId,e=a.cid,f=a.newsletterDirectorySessionId,g=a.similarNewslettersSessionId,h=a.newsletterCategoryIndex,j=a.newsletterIndex,k=a.newsletterEventUnit,l=a.pillSelected,m=a.country,n=a.newsletterCategoryName,o=a.discoverySurface;a=i(function(a){var c=a.hiddenTime;a=a.visibleTime;d("WAMerlinImpressionManager").logNewsletterDiscoveryVisibility({enter_ts:a,exit_ts:c,discoveryData:{itemId:b,cid:e,newsletterDirectorySessionId:f,similarNewslettersSessionId:g,newsletterCategoryIndex:h,newsletterIndex:j,newsletterEventUnit:k,pillSelected:l,country:m,newsletterCategoryName:n,discoverySurface:o}})},[n,f,k,e,m,o,b,l,h,g,j]);return c("useVPVDImpression")({onVPVDEnd:a,onVPVDStart:c("WAWebNoop")})}g["default"]=a}),98);
__d("WAWebNewsletterRecommendedV2Item.react",["WAWebBaseShimmerComponents.react","WAWebChatEntryPoint","WAWebFlex.react","WAWebKeyboardHotKeys.react","WAWebLinkDevicePhoneNumberEntryInputFormatUtils","WAWebNewsletterAttributionLogging","WAWebNewsletterChatItem.react","WAWebNewsletterGatingUtils","WAWebNewsletterLoggingContext","WAWebNewsletterQuickFollowButton.react","WAWebOpenNewsletterPreviewChat","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebWamEnumTsSurface","react","stylex","useNewsletterDiscoveryVisibilityLogger","useWAWebEventTargetValue","useWAWebModelValues"],(function(a,b,c,d,e,f,g){var h,i,j;e=j||d("react");var k=h||(h=c("react")),l=e.useCallback,m=e.useContext,n={root:{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",borderTopColor:"xog00wb",borderEndColor:"x1pspupu",borderBottomColor:"xk1krjo",borderStartColor:"x1tdnxt6",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",boxSizing:"x9f619",width:"xj35x94",$$css:!0}};function o(a){var b=a.children;a=a.onClick;return k.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{role:"button",onClick:a,children:k.jsx(d("WAWebFlex.react").FlexColumn,{align:"center",testid:void 0,className:(i||(i=c("stylex")))(n.root,d("WAWebUISpacing").uiPadding.top12,d("WAWebUISpacing").uiPadding.horiz8,d("WAWebUISpacing").uiPadding.bottom8),children:b})})}o.displayName=o.name+" [from "+f.id+"]";function a(a){if(d("WAWebNewsletterGatingUtils").isNewsletterDiscoveryVisibilityLoggingEnabled())return k.jsx(q,babelHelpers["extends"]({},a));a=babelHelpers["extends"]({},a);return k.jsx(p,babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";function b(){return k.jsxs(o,{children:[k.jsx(d("WAWebBaseShimmerComponents.react").CircleShimmer,{diameter:64,xstyle:d("WAWebUISpacing").uiMargin.bottom8}),k.jsx(d("WAWebBaseShimmerComponents.react").RectangleShimmer,{height:20,width:96,xstyle:d("WAWebUISpacing").uiMargin.bottom16}),k.jsx(d("WAWebBaseShimmerComponents.react").RectangleShimmer,{height:20,width:66,xstyle:d("WAWebUISpacing").uiMargin.bottom8})]})}b.displayName=b.name+" [from "+f.id+"]";function p(a){var b=a.chatEntryPoint,e=a.eventSurface,f=a.newsletter;a=a.onFollow;var g=d("useWAWebModelValues").useModelValues(f,["newsletterMetadata"]),h=g.newsletterMetadata;g=c("useWAWebEventTargetValue")(d("useWAWebModelValues").useOptionalModelValues(h,["isSubscribedOrOwned"]),["isSubscribedOrOwned"],function(){return(h==null?void 0:h.isSubscribedOrOwned)===!0});var i=m(c("WAWebNewsletterLoggingContext")),j=i.similarNewsletterSessionId,n=i.entryPoint;i=i.eventUnit;var p=l(function(){b===d("WAWebChatEntryPoint").ChatEntryPoint.SimilarNewsletters&&d("WAWebNewsletterAttributionLogging").NewsletterCoreEventLogger.setSimilarChannelsSessionId(j),d("WAWebOpenNewsletterPreviewChat").openNewsletterPreviewChat(f.id.toString(),b)},[f,b,j]);e={eventSurface:e,similarChannelSessionId:j,entryPoint:n,eventUnit:i};return k.jsxs(o,{onClick:p,children:[k.jsx(d("WAWebNewsletterChatItem.react").NewsletterChatItem,{newsletter:f}),k.jsx(d("WAWebNewsletterQuickFollowButton.react").NewsletterQuickFollowButton,{confirmUnfollow:!1,onFollowSuccess:a,following:g,loggingOptions:e,newsletter:f})]})}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=a.newsletter,e=a.similarNewslettersSessionId,f=a.newsletterDirectorySessionId,g=a.discoverySurface,h=a.newsletterEventUnit;b=c("useNewsletterDiscoveryVisibilityLogger")({itemId:JSON.stringify({channel_id:b.id.user,discovery_surface:g}),cid:b.id.user,newsletterEventUnit:h,discoverySurface:g,similarNewslettersSessionId:e,newsletterDirectorySessionId:f,country:g===d("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_PROFILE?void 0:d("WAWebLinkDevicePhoneNumberEntryInputFormatUtils").getCountryCodeIso(d("WAWebUserPrefsMeUser").getMeUser().user)});h=b[0];b[1];e=babelHelpers["extends"]({},a);return k.jsx("div",{ref:h,children:k.jsx(p,babelHelpers["extends"]({},e))})}q.displayName=q.name+" [from "+f.id+"]";g.NewsletterRecommendedItem=a;g.NewsletterRecommendedItemShimmer=b}),98);